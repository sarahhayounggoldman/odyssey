<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Node Starter</title>
    <!-- load local stylesheet (css) -->
    <link rel="stylesheet" href="/styles.css" />
    <!-- loading jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
    <h1>Welcome!</h1>
    <p>Everything is fine.</p>

    <div id="logged-in">
    <p>You are logged in as <span id="login-uid"><%= uid %></span>
        <form method="post" action="/logout/"><input type="submit" value="logout"></form></p>
    </div>
    <div id="not-logged-in">
    <p>You are not logged in.</p>
    <form id="login_form" method="post" action="/set-uid/">
        <p><label>uid <input name="uid"></label></p>
        <input type="button" id="login-ajax" value="ajax">
    </form>
    </div>

    <p>You have visited <%= visits %> times.</p>

    <h2>Links</h2>

    <p><a href="/form/">a pizza form</a></p>
    
    <p><a href="/staffList/">staff listing</a></p>

    <!-- load local js -->
    <script src="/main.js"></script>
    <script>
        var uid = "<%= uid %>";
        if(uid !== 'unknown') {
            $("#logged-in").show();
            $("#not-logged-in").hide();
        } else {
            $("#logged-in").hide();
            $("#not-logged-in").show();
        }
    </script>
</body>
</html>
